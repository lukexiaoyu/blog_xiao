---
title: rxjs数据请求
date: 2021-05-08 16:09:14
permalink: /pages/0af91f/
categories:
  - 前端
  - Angular
  - 基础知识
tags:
  - 
---


## 	引入Observable

在需要使用的地方引入，一般是在服务里

```typescript
import {Observable} from 'rxjs';
```

  



server里的代码

```typescript
import { Injectable } from '@angular/core';
import {Observable} from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class StorageService {

  constructor() { }

  getRxjsData(){

    return new Observable((observer)=>{
        setTimeout(()=>{
          var username='张三--Rxjs';
          observer.next(username);
        },2000);


    })
  }
}

```



引用的组件的Ts代码

```typescript
import { Component, OnInit } from '@angular/core';
import {StorageService} from '../../services/storage.service';


@Component({
  selector: 'app-condition',
  templateUrl: './condition.component.html',
  styleUrls: ['./condition.component.scss']
})
export class ConditionComponent implements OnInit{


  constructor(public request:StorageService) { }

  msg='我是从父组件传过来的标题';


  // 获取DOM节点


   ngOnInit(): void {
     var rxjsData=this.request.getRxjsData();
     rxjsData.subscribe((data)=>{
        console.log(data);
     })

  }
}
```











