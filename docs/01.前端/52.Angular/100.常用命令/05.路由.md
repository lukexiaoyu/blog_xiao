---
title: 路由
date: 2021-05-08 16:09:14
permalink: /pages/2be6ca/
categories:
  - 前端
  - Angular
  - 常用命令
tags:
  - 
---


## 建立路由

在建立项目的时候直接选择建立路由，可以帮你在module.ts里全部自动配好

其它相关的路由配置都在生成的app-routing.module.ts里进行配置

## 配置路由

在app-routing.module.ts里进行配置

1.引入要加入路由的组件

2.配置组件路由

```typescript
import { NgModule } from '@angular/core';
import { RouterModule, Routes } from '@angular/router';

import { HeaderComponent } from './components/header/header.component';//这里引入三个组件
import { DatachangeComponent } from './components/datachange/datachange.component';
import { ConditionComponent } from './components/condition/condition.component';

const routes: Routes = [                             
  {
    path:'header',component:HeaderComponent          //以这种格式来配置组件的路由
  },
  {
    path:'data',component:DatachangeComponent
  },
  {
    path:'condition',component:ConditionComponent
  }

];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})

export class AppRoutingModule { }

```

在需要有路由的html以<router-outlet></router-outlet>来展示路由对应的组件页面

地址里后面加上/data    /conditon    /header    就会跳转到相应的路由地址了

```
<a [routerLink]="[applink]">头部</a>
<br>
<a [routerLink]="['/condition']">Condition</a>
<br>
<a [routerLink]="['/data']">data</a>
```



## 匹配任意路由

```
{
path:'**',//匹配不到路由的时候加载的组件，或者跳转的路由
redirectTo:'home'
}
```

## 路由选中状态

```
<a [routerLink]="['/condition']" routerLinkActive="active">Condition</a>//然后在css里加一个 active的样式即可
```



## 动态路由

### 配置routing.ts

要传入值的路由写法

```typescript
path:'data/:aid',component:DatachangeComponent   //：aid既要传入的值
```



### 配置动态页面

在要跳转的组件中做以下操作

```typescript
import { Component, OnInit } from '@angular/core';
import {HttpClient} from '@angular/common/http';
import {ActivatedRoute} from '@angular/router';    //引入ActivatedRoute

@Component({
  selector: 'app-datachange',
  templateUrl: './datachange.component.html',
  styleUrls: ['./datachange.component.scss']
})
export class DatachangeComponent implements OnInit {

  atly:any[]=[];
  constructor(public http:HttpClient, public route:ActivatedRoute) { }//实例化ActivatedRoute

  ngOnInit(): void {
    this.route.params.subscribe((data)=>{                   //接受数据
      console.log(data);
     
    })

  }  

}

```

```html
<a class="btn btn-primary" [routerLink]="['/condition/data/',i.occupation]"  role="button" >{{i.occupation}}</a>//['链接'，后面写传的值]
```



## 动态路由的js跳转

### 引入

```
import { Router } from '@angular/router';
```



### 实例化，并且实现跳转

htm里的代码

```typescript
<button (click)="goNewsContent()">js跳转路由</button>
```

ts里的 代码

```typescript
export class ProductComponent implements OnInit {

  constructor(public router:Router) { }

  ngOnInit(): void {
  }
    
  goNewsContent(){
    // alert('111');
    this.router.navigate(['/data/','5678']);
  }
}
```



这样点击就可以实现js跳转

## 父子路由

```typescript
path:'condition',component:ConditionComponent,			 //其实很简单
    children : [
      {
        path:'data/:aid',component:DatachangeComponent
      }
    ]
```







